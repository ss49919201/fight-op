# ADR-001: システムアーキテクチャ概要

## ステータス

承認済み

## コンテキスト

アウトプット活動を応援するアプリケーションとして設計されている。システムは以下の要件を満たす必要がある：

- 外部フィードから記事の投稿状況を取得
- 目標達成状況を分析
- 結果に基づいた通知の送信

## 決定事項

システムは以下のマイクロサービス構成とする：

### 1. Analyzer サービス

- **責任**: 外部フィードの取得と分析
- **アーキテクチャパターン**: ヘキサゴナルアーキテクチャ (ポート&アダプター)
- **主要コンポーネント**:
  - Fetcher: 外部フィードからの記事取得
  - Usecase: 目標達成判定ロジック
  - Model: エントリデータ構造

### 2. Notifier サービス (Haskell)

- **責任**: 通知の送信
- **主要機能**:
  - Slack Webhook 経由での通知送信

## 理由

### マルチ言語採用の理由

- 実装者の技術的興味
  - 複数言語での開発経験を積む

### ヘキサゴナルアーキテクチャの採用

- テスタビリティの向上
- 外部依存（フィード取得）との疎結合
- 機能拡張時の変更範囲の局所化

### マイクロサービス構成

- 各サービスの独立した開発
- デプロイ先のプラットフォームの柔軟性
  - e.g. Cloudflare Workers にデプロイする場合は TypeScript/JavaScript 以外の選択肢が制限される

## 影響

- サービス間通信の設計が必要
- デバッグ・監視の複雑性が増加

## 補足

- 目標期間：週次（7 日）・月次（30 日）に対応
- フィード対応：現在は Zenn のみ、将来的に拡張可能な設計
- 通知方式：現在は Slack のみ
